<header class="
    h-14
    pt-safe-top
    px-4
    flex items-center
    bg-white
    border-b border-gray-100
    sticky top-0
    z-40
"
    [class.justify-between]="backLink() || badge()"
    [class.justify-center]="!backLink() && !badge()"
>
    <!-- Botón de atrás (opcional) -->
    @if(backLink()) {
    <button 
        [routerLink]="backLink()"
        class="w-10 h-10 flex items-center justify-center rounded-full active:bg-gray-100"
    >
        <lucide-icon [img]="ChevronLeft" class="w-6 h-6"></lucide-icon>
    </button>
    }
    
    <!-- Título -->
    <h1 
    class="text-lg font-semibold text-gray-900"
    [class.flex-1]="backLink() && !badge()"
    [class.text-center]="backLink() && !badge()"
    [class.pr-10]="backLink() && !badge()"
    >
    {{ title() }}
    </h1>
    
    <!-- Badge (opcional) -->
    @if(badge()) {
    <span 
        class="
        px-3 py-1
        text-xs font-semibold
        rounded-full
        flex items-center gap-1.5
        "
      [class.bg-green-50]="badge()?.color === 'green'"
      [class.border-green-200]="badge()?.color === 'green'"
      [class.bg-yellow-50]="badge()?.color === 'yellow'"
      [class.border-yellow-200]="badge()?.color === 'yellow'"
      [class.bg-gray-50]="badge()?.color === 'gray'"
      [class.border-gray-200]="badge()?.color === 'gray'"
      [class.bg-red-50]="badge()?.color === 'red'"
      [class.border-red-200]="badge()?.color === 'red'"
    >
        @if(badge()?.pulse) {
      <div 
        class="w-2 h-2 rounded-full"
        [class.bg-green-500]="badge()?.color === 'green'"
        [class.bg-yellow-500]="badge()?.color === 'yellow'"
        [class.bg-gray-400]="badge()?.color === 'gray'"
        [class.bg-red-500]="badge()?.color === 'red'"
        [class.animate-pulse]="badge()?.pulse"
      ></div>
        }
        <span 
            class="text-xs font-semibold"
            [class.text-green-700]="badge()?.color === 'green'"
            [class.text-yellow-700]="badge()?.color === 'yellow'"
            [class.text-gray-600]="badge()?.color === 'gray'"
            [class.text-red-700]="badge()?.color === 'red'"
        >
            {{ badge()?.text }}
      </span>
    </span>
    }
    
    <!-- Espaciador cuando hay backLink pero no badge -->
    @if(backLink() && !badge()) {
    <div class="w-10"></div>
    }
</header>