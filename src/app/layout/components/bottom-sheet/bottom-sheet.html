@if (isOpen()) {
  <div 
    class="w-md bottom-sheet-backdrop absolute inset-0 bg-black/50 z-50 flex items-end"
    [class.closing]="isClosing()"
    (click)="onBackdropClick()"
  >
    <!-- BotÃ³n cerrar (X) -->
    @if (showCloseButton()) {
      <button
        (click)="closeModal()"
        class="absolute top-4 right-4 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center z-10 transition-colors duration-150 border-0 cursor-pointer"
      >
        <lucide-icon [img]="X" class="w-5 h-5 text-gray-600"></lucide-icon>
      </button>
    }

    <div 
      class="bottom-sheet-content bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto relative transition-transform duration-100 ease-out"
      [class.closing]="isClosing()"
      [style.max-height]="maxHeight()"
      [style.transform]="'translateY(' + translateY() + 'px)'"
      (click)="onContentClick($event)"
      (touchstart)="onTouchStart($event)"
      (touchmove)="onTouchMove($event)"
      (touchend)="onTouchEnd()"
    >
      <!-- Handle para arrastrar -->
      <div class="sticky top-0 bg-white z-10 flex justify-center pt-3 pb-2">
        <div class="w-12 h-1 bg-gray-300 rounded-full"></div>
      </div>
      
      <!-- Contenido proyectado -->
      <div class="p-0">
        <ng-content></ng-content>
      </div>
    </div>
  </div>
}